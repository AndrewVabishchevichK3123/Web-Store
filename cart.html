<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ö–æ—Ä–∑–∏–Ω–∞ ‚Äî –ì–∞–ª–µ—Ä–µ—è –û—Å–æ–±–Ω—è–∫–∞ –ë—Ä—é–ª–ª–æ–≤–∞</title>
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="stylesheet" href="style.css" />

</head>
<body>
  <header>
    <div class="header-content">
      <img src="uzorleft.png" alt="" class="decor-left" />
      <div class="header-center">
        <img src="favicon.png" alt="–õ–æ–≥–æ" class="logo" />
        <h1>–ì–∞–ª–µ—Ä–µ—è –û—Å–æ–±–Ω—è–∫–∞ –ë—Ä—é–ª–ª–æ–≤–∞</h1>
      </div>
      <img src="uzorright.png" alt="" class="decor-right" />
    </div>
  </header>

  <nav>
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a> 
    <a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
    <a href="#">–û–± –û—Å–æ–±–Ω—è–∫–µ</a>
    <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
  </nav>

  <main>
    <div id="cart-items"></div>
    <div id="cart-total" class="cart-total"></div>
    <button id="checkout-btn" class="checkout-btn" style="display:none;">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    <a href="index.html" class="back-to-gallery">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–∞–ª–µ—Ä–µ—é</a>
  </main>

  <footer>
    <p>&copy; 2025 –ì–∞–ª–µ—Ä–µ—è –û—Å–æ–±–Ω—è–∫–∞ –ë—Ä—é–ª–ª–æ–≤–∞ | –í—ã–ø–æ–ª–Ω–∏–ª: –í–∞–±–∏—â–µ–≤–∏—á –ê. –í.</p>
  </footer>

<script>
  // –ö–∞—Ç–∞–ª–æ–≥ –≤—Å–µ—Ö –∫–∞—Ä—Ç–∏–Ω (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å data-id –≤ index.html)
  const paintings = {
    "zakat-val-d-orcha": { title: "–ó–∞–∫–∞—Ç –≤ –í–∞–ª—å –¥'–û—Ä—á–∞", author: "–°–µ—Ä–≥–µ–µ–≤ –ê. –°.", price: 25000 },
    "ulochki-sieny": { title: "–£–ª–æ—á–∫–∏ –°–∏–µ–Ω—ã", author: "–°–µ—Ä–≥–µ–µ–≤ –ê. –°.", price: 12000 },
    "progulka": { title: "–ü—Ä–æ–≥—É–ª–∫–∞", author: "–ü–∏–º–µ–Ω–æ–≤ –í. –í.", price: 8300 },
    "prostori-italii": { title: "–ü—Ä–æ—Å—Ç–æ—Ä—ã –ò—Ç–∞–ª–∏–∏", author: "–ü–æ–∑–¥–Ω—è–∫–æ–≤–∞ –ê. –ú.", price: 7100 },
    "krasota-bez-izyanov": { title: "–ö—Ä–∞—Å–æ—Ç–∞ –±–µ–∑ –∏–∑—ä—è–Ω–æ–≤", author: "–õ–æ—à–∫–∞—Ä–µ–≤–∞ –°. –ì.", price: 19000 }
  };

  function getCartSet() {
    const cart = localStorage.getItem('cart');
    return cart ? new Set(JSON.parse(cart)) : new Set();
  }

  function saveCartSet(cartSet) {
    localStorage.setItem('cart', JSON.stringify(Array.from(cartSet)));
  }

  function renderCart() {
    const cart = getCartSet();
    const cartItemsEl = document.getElementById('cart-items');
    const cartTotalEl = document.getElementById('cart-total');
    const checkoutBtn = document.getElementById('checkout-btn');

    if (cart.size === 0) {
      cartItemsEl.innerHTML = '<p class="empty-cart">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
      cartTotalEl.style.display = 'none';
      checkoutBtn.style.display = 'none';
      return;
    }

    cartTotalEl.style.display = 'block';
    checkoutBtn.style.display = 'block';

    let html = '';
    let total = 0;

    cart.forEach(id => {
      const item = paintings[id];
      if (!item) return;
      total += item.price;
      html += `
        <div class="cart-item">
          <div>
            <strong>${item.title}</strong><br>
            <em>${item.author}</em>
          </div>
          <div>
            ${item.price.toLocaleString('ru-RU')} —Ä—É–±.
            <button class="remove-btn" data-id="${id}">üóëÔ∏è</button>
          </div>
        </div>
      `;
    });

    cartItemsEl.innerHTML = html;
    cartTotalEl.textContent = `–ò—Ç–æ–≥–æ: ${total.toLocaleString('ru-RU')} —Ä—É–±.`;

    document.querySelectorAll('.remove-btn').forEach(button => {
      button.addEventListener('click', function () {
        const id = this.dataset.id;
        const cart = getCartSet();
        cart.delete(id);
        saveCartSet(cart);
        renderCart(); 
      });
    });
  }

  document.getElementById('checkout-btn').addEventListener('click', () => {
    const total = Array.from(getCartSet()).reduce((sum, id) => sum + (paintings[id]?.price || 0), 0);
    if (total === 0) return;

    alert(`–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑!\n–û–±—â–∞—è —Å—É–º–º–∞: ${total.toLocaleString('ru-RU')} —Ä—É–±.`);
    localStorage.removeItem('cart');
    renderCart();
  });

  document.addEventListener('DOMContentLoaded', renderCart);
</script>
  
</body>

</html>